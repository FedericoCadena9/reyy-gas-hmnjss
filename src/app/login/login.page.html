<ion-content>

  <div class="mx-5 mb-6">
    <img src="../../assets/images/logo.png" class="w-20 h-20 object-cover mx-auto" alt="Reyy Gas Logo">


    <div class="mt-2 mb-10">
      <h1 class="subtitle-text">Iniciar Sesión</h1>
      <p class="text-sm text-slate-700"> ¿Aún no tienes una cuenta?
        <a class="text-blue-500 underline" [routerLink]="['/register']">Registrate aquí</a>
      </p>
    </div>

    <form [formGroup]="loginForm" class="space-y-2">
      <div>
        <ion-input type="email" placeholder="Correo Electrónico"
          class="bg-white border border-slate-200 placeholder-slate-400 rounded-md" formControlName="identifier">
        </ion-input>
        <span class="span-error" *ngIf="isSubmitted && errorControl.identifier.errors?.required">
          El correo es requerido.
        </span>
        <span class="span-error" *ngIf="isSubmitted && errorControl.identifier.errors?.email">
          Ingrese un correo electrónico válido.
        </span>
      </div>

      <div class="mb-8">
        <div  class="relative">
          <ion-input type="{{ showPassword ? 'text' : 'password' }}" placeholder="Contraseña" formControlName="password"
            class="bg-white border border-slate-200 placeholder-slate-400 rounded-md w-full"></ion-input>
          <ion-icon class="absolute right-0 top-1.5 my-2 mx-3 z-10 w-5 h-5 text-slate-500" name="{{ showPassword ? 'eye-off' : 'eye' }}" slot="end" (click)="togglePasswordVisibility()"></ion-icon>
        </div>
        <span class="span-error" *ngIf="isSubmitted && errorControl.password.errors?.required">
          La contraseña es requerida.
        </span>
        <span class="span-error" *ngIf="msgError">{{ msgError }}</span>

      </div>

      <div class="pt-6">
        <button class="btn-primary w-full mb-2" (click)="loginUser()">
          <ion-spinner name="dots" color="light" *ngIf="isLoading"></ion-spinner>
          <span *ngIf="!isLoading">
            Iniciar Sesión
          </span>
        </button>
        <a class="text-blue-500 underline text-sm" [routerLink]="['/forgot-password']">¿Olvidaste tu contraseña?</a>
      </div>
    </form>

  </div>
</ion-content>